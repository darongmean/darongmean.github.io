<!DOCTYPE html>
<html
  lang="en-us"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<link rel="apple-touch-icon" sizes="180x180" href="https://darongmean.com/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://darongmean.com/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://darongmean.com/favicon-16x16.png">
<link rel="manifest" href="https://darongmean.com/site.webmanifest">
<link rel="mask-icon" href="https://darongmean.com/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<meta name="keywords" content="react-native,,
clojurescript,,
shadow-cljs,
">

<meta property="og:title" content="React-Native &amp; Clojurescript - Create a project with shadow-cljs" />
<meta property="og:description" content="Disclaimer: This serie is my notes while I&rsquo;m exploring ReactNative and Clojurescript ecosystems. I&rsquo;ve never done any mobile development or anything related to XCode. I&rsquo;ve done some Clojurescript developments and this is my first time using shadow-cljs.
TLDR; Create the project I installed npm, yarn, react-native-cli, XCode, shadow-cljs, and used the following commands to create the project.
react-native init FunanMobile cd FunanMobile yarn add --dev shadow-cljs mkdir -p cljs/hello vim cljs/hello/core." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://darongmean.com/post/react-native-cljs-shadow-cljs/" /><meta property="og:image" content="https://darongmean.com/images/avatar@2x.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-04-28T00:00:00+00:00" />


<meta property="og:site_name" content="Darong Mean" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:image" content="https://darongmean.com/images/avatar@2x.png"/>

<meta name="twitter:title" content="React-Native &amp; Clojurescript - Create a project with shadow-cljs"/>
<meta name="twitter:description" content="Disclaimer: This serie is my notes while I&rsquo;m exploring ReactNative and Clojurescript ecosystems. I&rsquo;ve never done any mobile development or anything related to XCode. I&rsquo;ve done some Clojurescript developments and this is my first time using shadow-cljs.
TLDR; Create the project I installed npm, yarn, react-native-cli, XCode, shadow-cljs, and used the following commands to create the project.
react-native init FunanMobile cd FunanMobile yarn add --dev shadow-cljs mkdir -p cljs/hello vim cljs/hello/core."/>


<meta itemprop="name" content="React-Native &amp; Clojurescript - Create a project with shadow-cljs">
<meta itemprop="description" content="Disclaimer: This serie is my notes while I&rsquo;m exploring ReactNative and Clojurescript ecosystems. I&rsquo;ve never done any mobile development or anything related to XCode. I&rsquo;ve done some Clojurescript developments and this is my first time using shadow-cljs.
TLDR; Create the project I installed npm, yarn, react-native-cli, XCode, shadow-cljs, and used the following commands to create the project.
react-native init FunanMobile cd FunanMobile yarn add --dev shadow-cljs mkdir -p cljs/hello vim cljs/hello/core."><meta itemprop="datePublished" content="2018-04-28T00:00:00+00:00" />
<meta itemprop="dateModified" content="2018-04-28T00:00:00+00:00" />
<meta itemprop="wordCount" content="280"><meta itemprop="image" content="https://darongmean.com/images/avatar@2x.png"/>
<meta itemprop="keywords" content="" />


    <title>React-Native &amp; Clojurescript - Create a project with shadow-cljs || Darong Mean</title>
    <link rel="canonical" href="https://darongmean.com/post/react-native-cljs-shadow-cljs/" />

    

    <link rel="stylesheet" href="/css/reboot.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/syntax.css" />
<script type="text/javascript" src="/js/main.js"></script>

<link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    
<script async src="https://cdn.panelbear.com/analytics.js?site=5Ms17CYbCwv"></script>
<script>
    window.panelbear = window.panelbear || function() { (window.panelbear.q = window.panelbear.q || []).push(arguments); };
    panelbear('config', { site: '5Ms17CYbCwv' });
</script>
  </head>
  <body
  class=" look-sheet-bkg"
  lang="en-us">
  <div class="nav-bkg drop-shadow">
    <nav class="content-container pagewide-bar-padding">
      <span class="divider">/ </span>
      <a href="/" >Darong Mean</a>
      <span class="divider">/ </span>
          <a href="/posts/">Posts</a>
      <ul class="list-unstyled right-links">

          <li>
            <a href="/posts/">
              <span class="post-title">archive</span>
            </a>
          </li>

          <li>
            <a href="/about/">
              <span class="post-title">about</span>
            </a>
          </li>

</ul>

    </nav>
  </div>
  <article
    id="main"
    class="content-container look-sheet article-pad-v "
    itemscope
    itemtype="https://schema.org/Article" >
  <meta itemprop="author" content="Darong Mean" />
  <meta itemprop="publisher" content="Darong Mean" />
  <meta itemprop="image" content="https://darongmean.com/images/avatar@2x.png" />
  <h1 itemprop="name" id="title">React-Native &amp; Clojurescript - Create a project with shadow-cljs</h1>
  <meta itemprop="headline" content="React-Native &amp; Clojurescript - Create a project with shadow-cljs" />
  
  
    
      <div class="post-date"><span itemprop="datePublished">April 28, 2018</span></div>
      <meta itemprop="dateModified" content="April 28, 2018"/>
    
  
  
  <div itemprop="articleBody" id="content" class="article-body margin-top-2em">
    <blockquote>
<p>Disclaimer: This serie is my notes while I&rsquo;m exploring ReactNative and Clojurescript ecosystems. I&rsquo;ve never done any mobile development or anything related to XCode. I&rsquo;ve done some Clojurescript developments and this is my first time using <a href="http://shadow-cljs.org/">shadow-cljs</a>.</p>
</blockquote>
<h1 id="tldr">TLDR;</h1>
<h3 id="create-the-project">Create the project</h3>
<p>I installed <code>npm</code>, <code>yarn</code>, <code>react-native-cli</code>, <code>XCode</code>, <code>shadow-cljs</code>, and used the following commands to create the project.</p>
<pre tabindex="0"><code>react-native init FunanMobile
cd FunanMobile
yarn add --dev shadow-cljs
mkdir -p cljs/hello
vim cljs/hello/core.cljs
cat cljs/hello/core.cljs
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">ns </span>hello.core)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>foo []
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">js/alert</span> <span style="color:#e6db74">&#34;Hello from CLJS!&#34;</span>))
</span></span></code></pre></div><pre tabindex="0"><code>mkdir js
vim js/.babelrc
cat js/.babelrc
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ignore&#34;</span>: [<span style="color:#e6db74">&#34;*.js&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><pre tabindex="0"><code>shadow-cljs init
vim shadow-cljs.edn
cat shadow-cljs.edn
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>{<span style="color:#e6db74">:source-paths</span>
</span></span><span style="display:flex;"><span> [<span style="color:#e6db74">&#34;cljs&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">:dependencies</span>
</span></span><span style="display:flex;"><span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">:builds</span>
</span></span><span style="display:flex;"><span> {<span style="color:#e6db74">:app</span> {<span style="color:#e6db74">:target</span>     <span style="color:#e6db74">:npm-module</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">:runtime</span>    <span style="color:#e6db74">:react-native</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">:entries</span>    [hello.core]
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">:output-dir</span> <span style="color:#e6db74">&#34;js&#34;</span>}}}
</span></span></code></pre></div><pre tabindex="0"><code>vim index.js
cat index.js
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AppRegistry</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react-native&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./App&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;./js/shadow.cljs.devtools.client.react_native&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">foo</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./js/hello.core&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">AppRegistry</span>.<span style="color:#a6e22e">registerComponent</span>(<span style="color:#e6db74">&#39;FunanMobile&#39;</span>, () =&gt; <span style="color:#a6e22e">App</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">foo</span>();
</span></span></code></pre></div><h3 id="start-development">Start development</h3>
<pre tabindex="0"><code>yarn shadow-cljs watch app
react-native run-ios
</code></pre><h1 id="why-shadow-cljs">Why shadow-cljs?</h1>
<p>I tried <a href="https://github.com/drapanjanas/re-natal">re-natal</a> and it worked. However, the workflow around importing external components was frustrating.</p>
<p>If I forgot to <code>require</code> the component, I had to re-run the tools to use the component in CLJS. I played around many different external components. Re-run the tools took most of my time while I should spend those time to do the work instead.</p>
<p>Using shadow-cljs improved my workflow a lot:</p>
<ul>
<li>import external components? Follow documents of the component, re-run shadow-cljs, done.</li>
<li>improved support of importing ES6 modules via <code>require</code></li>
<li>start up faster than <code>lein</code></li>
</ul>
<p>The support for React Native of shadow-cljs is experimental. <code>Source map</code> isn&rsquo;t working and some other stuffs might also not work. However, I need only <code>hot reload</code> and <code>repl</code> in my project.</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://facebook.github.io/react-native/docs/getting-started.html">https://facebook.github.io/react-native/docs/getting-started.html</a></li>
<li><a href="http://cljsrn.org/">http://cljsrn.org/</a></li>
<li><a href="https://github.com/drapanjanas/re-natal">https://github.com/drapanjanas/re-natal</a></li>
<li><a href="https://github.com/gphilipp/react-native-with-clojurescript">https://github.com/gphilipp/react-native-with-clojurescript</a></li>
<li><a href="https://github.com/thheller/shadow-cljs/issues/214#issuecomment-381237115">https://github.com/thheller/shadow-cljs/issues/214#issuecomment-381237115</a></li>
<li><a href="https://github.com/idokutela/rum-native">https://github.com/idokutela/rum-native</a></li>
<li><a href="https://github.com/DogLooksGood/shadow-cljs-with-react-native-note">https://github.com/DogLooksGood/shadow-cljs-with-react-native-note</a></li>
</ul>

  </div>
</article>

  <style type="text/css">
	.content-container-narrow-pad {
		margin-bottom: 5em;
	}
</style>

  
    <div class="nav-bkg-50 content-container-narrow-pad bottom-links text-0p75 drop-shadow">
      <nav class="flex-row">
      
      <a href="https://darongmean.com/post/401-vs-403/" class="flex-row v-center no-underline"  style="max-width:45%;">
        <span class="text-1p5">←</span>&nbsp;<span class="re-underline">Previous: 401 vs 403</span>
      </a>
      
      
        <a href="https://darongmean.com/post/react-native-cljs-xcode/" class="flex-row v-center no-underline" style="max-width: 45%;">
        <span class="re-underline">Next: React-Native &amp; Clojurescript - Work with XCode</span>&nbsp;<span class="text-1p5">→</span>
        </a>
      
      </nav>
    </div>
  

  <div class="content-container vertical-margins">
    <div class="flex-row flex-center">
      <footer class="footer">
      <span>© 2016-2022 <a href="/">Darong Mean</a></span>
      <span>Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &amp;
        <a href="https://github.com/capnfabs/paperesque" rel="noopener" target="_blank">paperesque</a>
      </span>
      </footer>
    </div>
  </div>
  </body>
  <script type="module" src="https://cdn.skypack.dev/pin/@hotwired/turbo@v7.2.4-ZifPufG8LWXS2LFpHP7B/mode=imports,min/optimized/@hotwired/turbo.js"></script>
</html>
